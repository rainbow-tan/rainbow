<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">

    <link href="/static/bootstrap_3.3.0/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <link href="/static/css/pub_css.css" rel="stylesheet" type="text/css" />
    <script src="/static/jquery/jquery-1.11.1-min.js" type="text/javascript"></script>
    <script src="/static/jquery/jquery.cookie.js" type="text/javascript"></script>
    <script src="/static/bootstrap_3.3.0/js/bootstrap.min.js" type="text/javascript"></script>
    <script src="/static/js/pub_js.js" type="text/javascript"></script>

    <script type="text/javascript">
        $(function () {
            // 自定义函数
            $.func = {

                //第几页url
                currentPageHref: function (current_page) {
                    let select_items = [1, 2, 3, 4, 24, 25, 26, 27, 28, 16, 17, 18]
                    let herf_head = "/Model/select.html?current_page=" + current_page + "&pagesize=" + $
                        .trim($("#pagesize").text()) + '&over_limit=' + $('#over_limit').val();
                    let herf_body = "";
                    for (let i = 0; i < select_items.length; i++) {
                        let parameter = "&select_field" + select_items[i] + "=" + $("#select_field" +
                            select_items[i]).val();
                        herf_body += parameter;
                    }
                    let herf = herf_head + herf_body;
                    $(window).attr("location", herf);
                },

                // 每页显示多少条记录url
                pagesizeHref: function (page_size) {
                    let select_items = [1, 2, 3, 4, 24, 25, 26, 27, 28, 16, 17, 18]
                    let herf_head = "/Model/select.html?current_page=1" + "&pagesize=" + page_size +
                        '&over_limit=' + $('#over_limit').val();
                    let herf_body = "";
                    for (i = 0; i < select_items.length; i++) {
                        let parameter = "&select_field" + select_items[i] + "=" + $("#select_field" +
                            select_items[i]).val();
                        herf_body += parameter;
                    }
                    let herf = herf_head + herf_body;
                    $(window).attr("location", herf);
                },

                //检查添加表单
                check_add_form: function () {
                    $('#add_calculate').click()
                    let required_items = [1, 2, 3, 4, 24, 25, 26, 27]
                    for (i = 0; i < required_items.length; i++) {
                        let value = $.trim($('#add_field' + required_items[i]).val())
                        if (value == '') {
                            alert('请完善必填项')
                            return false
                        }
                    }
                    return true
                },

                //检查修改表单
                check_update_form: function () {
                    $('#update_calculate').click()
                    let required_items = [1, 2, 3, 4, 24, 25, 26, 27]
                    for (i = 0; i < required_items.length; i++) {
                        let value = $.trim($('#update_field' + required_items[i]).val())
                        if (value == '') {
                            alert('请完善必填项')
                            return false
                        }
                    }
                    return true
                },

                //计算本线邻线
                benxian_linxian: function (bengao_lingao, cankao_biaozhun) {
                    if (bengao_lingao != '' && cankao_biaozhun != '') {
                        if (cankao_biaozhun === '高铁标准') {
                            if (7250 < bengao_lingao && bengao_lingao <= 100000) {
                                return '';
                            } else if (7000 < bengao_lingao && bengao_lingao <= 7250) {
                                return '800';
                            } else if (6750 < bengao_lingao && bengao_lingao <= 7000) {
                                return '950';
                            } else if (6500 < bengao_lingao && bengao_lingao <= 6750) {
                                return '1100';
                            } else if (6250 < bengao_lingao && bengao_lingao <= 6500) {
                                return '1250';
                            } else if (6000 < bengao_lingao && bengao_lingao <= 6250) {
                                return '1400';
                            } else if (5750 < bengao_lingao && bengao_lingao <= 6000) {
                                return '1550';
                            } else if (5500 < bengao_lingao && bengao_lingao <= 5750) {
                                return '1700';
                            } else if (5250 < bengao_lingao && bengao_lingao <= 5500) {
                                return '1824';
                            } else if (5000 < bengao_lingao && bengao_lingao <= 5250) {
                                return '1947';
                            } else if (4750 < bengao_lingao && bengao_lingao <= 5000) {
                                return '2070';
                            } else if (4500 < bengao_lingao && bengao_lingao <= 4750) {
                                return '2194';
                            } else if (4250 < bengao_lingao && bengao_lingao <= 4500) {
                                return '2317';
                            } else if (1000 <= bengao_lingao && bengao_lingao <= 4250) {
                                return '2440';
                            } else if (750 <= bengao_lingao && bengao_lingao < 1000) {
                                return '2289';
                            } else if (500 <= bengao_lingao && bengao_lingao < 750) {
                                return '2137';
                            } else if (250 <= bengao_lingao && bengao_lingao < 500) {
                                return '1986';
                            } else if (25 <= bengao_lingao && bengao_lingao < 250) {
                                return '1834';
                            } else if (0 <= bengao_lingao && bengao_lingao < 25) {
                                return '';
                            } else {
                                return '';
                            }
                        } else if (cankao_biaozhun === '普铁标准') {
                            if (6550 < bengao_lingao && bengao_lingao <= 10000) {
                                return '';
                            } else if (6200 < bengao_lingao && bengao_lingao <= 6550) {
                                return '1220';
                            } else if (5500 < bengao_lingao && bengao_lingao <= 6200) {
                                return '1700';
                            } else if (5250 < bengao_lingao && bengao_lingao <= 5500) {
                                return '1700';
                            } else if (5000 < bengao_lingao && bengao_lingao <= 5250) {
                                return '1700';
                            } else if (4750 < bengao_lingao && bengao_lingao <= 5000) {
                                return '1850';
                            } else if (4500 < bengao_lingao && bengao_lingao <= 4750) {
                                return '2000';
                            } else if (4250 < bengao_lingao && bengao_lingao <= 4500) {
                                return '2074';
                            } else if (4000 < bengao_lingao && bengao_lingao <= 4250) {
                                return '2147';
                            } else if (3750 < bengao_lingao && bengao_lingao <= 4000) {
                                return '2220';
                            } else if (3500 < bengao_lingao && bengao_lingao <= 3750) {
                                return '2294';
                            } else if (3250 < bengao_lingao && bengao_lingao <= 3500) {
                                return '2367';
                            } else if (1100 <= bengao_lingao && bengao_lingao <= 3250) {
                                return '2440';
                            } else if (350 <= bengao_lingao && bengao_lingao < 1100) {
                                return '1875';
                            } else if (200 <= bengao_lingao && bengao_lingao < 350) {
                                return '1725';
                            } else if (25 <= bengao_lingao && bengao_lingao < 200) {
                                return '1500';
                            } else if (0 <= bengao_lingao && bengao_lingao < 25) {
                                return '';
                            } else {
                                return '';
                            }
                        } else {
                            return '';
                        }
                    } else {
                        return '';
                    }
                },

                //计算本线或邻线差
                benxiancha_linxiancha: function (jubenxian_julinxian, benxian_linxian) {
                    if (jubenxian_julinxian === '大于3M' || jubenxian_julinxian === '大于3m' ||
                        jubenxian_julinxian === '大于3米' ||
                        jubenxian_julinxian === '大于三M' || jubenxian_julinxian === '大于三m' ||
                        jubenxian_julinxian === '大于三米' ||
                        jubenxian_julinxian === '>3M' || jubenxian_julinxian === '>3m' ||
                        jubenxian_julinxian === '>3米' ||
                        jubenxian_julinxian === '>三M' || jubenxian_julinxian === '>三m' ||
                        jubenxian_julinxian === '>三米' ||
                        jubenxian_julinxian === '大于6M' || jubenxian_julinxian === '大于6m' ||
                        jubenxian_julinxian === '大于6米' ||
                        jubenxian_julinxian === '大于六M' || jubenxian_julinxian === '大于六m' ||
                        jubenxian_julinxian === '大于六米' ||
                        jubenxian_julinxian === '>6M' || jubenxian_julinxian === '>6m' ||
                        jubenxian_julinxian === '>6米' ||
                        jubenxian_julinxian === '>六M' || jubenxian_julinxian === '>六m' ||
                        jubenxian_julinxian === '>六米') {
                        return '正数';
                    } else {
                        if (jubenxian_julinxian != '' && benxian_linxian != '') {
                            return jubenxian_julinxian - benxian_linxian;
                        } else {
                            return '';
                        }
                    }
                },

                //超限
                chaoxian: function (cha) {
                    if (cha === '正数') {
                        return '否';
                    } else {
                        if (cha != '') {
                            if (cha >= 0) {
                                return '否';
                            } else {
                                return '是';
                            }
                        } else {
                            return '';
                        }
                    }
                },

                //默认无数据
                default_wushuju: function (str) {
                    if (str === '') {
                        return '无数据';
                    } else {
                        return str;
                    }
                },

            }

            // 刷新
            $('#refresh').click(function () {
                $(window).attr('location', '/Model/select.html/?select_field2=所有')
            })


            // 设置颜色
            $.set_red = function () {
                $("td").each(function () {
                    if ($(this).text() === '是') {
                        $(this).css('color', 'red')
                    }
                })
            }
            $.set_red()

            // 设置滚动条
            $.set_scroll()

            //设置权限
            $.set_authority()

            //添加防撞墙失焦事件
            $('#add_field26').blur(function () {
                if ($(this).val() === '有防撞墙' || $(this).val() === '低于25mm' || $(this).val() ===
                    '低于轨面') {
                    // 不计算数据
                    $('#add_field16').val('');
                    $('#add_field17').val('');
                    $('#add_field19').val('');
                    $('#add_field20').val('');

                    // 根据是否填高度觉得否还是空串
                    if ($('#add_field6').val() != '') {
                        $('#add_field21').val('否')
                    } else {
                        $('#add_field21').val('')
                    }
                    if ($('#add_field9').val() != '') {
                        $('#add_field22').val('否')
                    } else {
                        $('#add_field22').val('')
                    }

                }
            })

            //修改防撞墙失焦事件
            $('#update_field26').blur(function () {
                if ($(this).val() === '有防撞墙' || $(this).val() === '低于25mm' || $(this).val() ===
                    '低于轨面') {
                    // 不计算数据
                    $('#update_field16').val('');
                    $('#update_field17').val('');
                    $('#update_field19').val('');
                    $('#update_field20').val('');

                    // 根据是否填高度觉得否还是空串
                    if ($('#update_field6').val() != '') {
                        $('#update_field21').val('否')
                    } else {
                        $('#update_field21').val('')
                    }
                    if ($('#update_field9').val() != '') {
                        $('#update_field22').val('否')
                    } else {
                        $('#update_field22').val('')
                    }

                }
            })

            //计算添加
            $('#add_calculate').click(function () {
                //计算本线
                $('#add_field16').val($.func.benxian_linxian($.trim($('#add_field6').val()), $.trim($(
                    '#add_field25').val())))

                //计算邻线
                $('#add_field17').val($.func.benxian_linxian($.trim($('#add_field9').val()), $.trim($(
                    '#add_field25').val())))

                // 本线实测值与标准值之差
                $('#add_field19').val($.func.benxiancha_linxiancha($.trim($('#add_field7').val()), $
                    .trim($('#add_field16').val())))

                // 邻线实测值与标准值之差
                $('#add_field20').val($.func.benxiancha_linxiancha($.trim($('#add_field8').val()), $
                    .trim($('#add_field17').val())))

                //本线数据是否超限
                $('#add_field21').val($.func.chaoxian($.trim($('#add_field19').val())))

                //邻线数据是否超限
                $('#add_field22').val($.func.chaoxian($.trim($('#add_field20').val())))

                //默认防撞墙为无数据
                $('#add_field26').val($.func.default_wushuju($.trim($('#add_field26').val())))

                //默认建筑设备名称为无数据
                $('#add_field27').val($.func.default_wushuju($.trim($('#add_field27').val())))

                //根据防撞墙类型再重置一次本线超限
                $('#add_field26').blur()

            })

            //计算修改
            $('#update_calculate').click(function () {
                // 计算本线
                $('#update_field16').val($.func.benxian_linxian($.trim($('#update_field6').val()), $
                    .trim($(
                        '#update_field25').val())))

                // 计算邻线
                $('#update_field17').val($.func.benxian_linxian($.trim($('#update_field9').val()), $
                    .trim($(
                        '#update_field25').val())))

                // 本线实测值与标准值之差
                $('#update_field19').val($.func.benxiancha_linxiancha($.trim($('#update_field7').val()),
                    $.trim($(
                        '#update_field16').val())))

                // 邻线实测值与标准值之差
                $('#update_field20').val($.func.benxiancha_linxiancha($.trim($('#update_field8').val()),
                    $.trim($(
                        '#update_field17').val())))

                // 本线数据是否超限
                $('#update_field21').val($.func.chaoxian($.trim($('#update_field19').val())))

                // 邻线数据是否超限
                $('#update_field22').val($.func.chaoxian($.trim($('#update_field20').val())))

                // 默认防撞墙为无数据
                $('#update_field26').val($.func.default_wushuju($.trim($('#update_field26').val())))

                // 默认建筑设备名称为无数据
                $('#update_field27').val($.func.default_wushuju($.trim($('#update_field27').val())))

                // 根据防撞墙类型再重置一次本线超限
                $('#update_field26').blur()

            })

            //修改按钮
            $('#updateModalBtn').click(function () {
                var checked_boxs = $("#tbody :checked")
                var update_id = ''
                if (checked_boxs.length != 1) {
                    alert('请选择一条数据')
                } else {
                    checked_boxs.each(function () {
                        update_id += $(this).val()
                    })
                    $.get('/Model/select_for_update/', {
                        update_id: update_id,
                    }, function (data, status) {
                        $('#update_id').val(data['src_update_auto_id'])
                        $('#update_field1').val(data['src_update_field1'])
                        $('#update_field2').val(data['src_update_field2'])
                        $('#update_field3').val(data['src_update_field3'])
                        $('#update_field4').val(data['src_update_field4'])
                        $('#update_field5').val(data['src_update_field5'])
                        $('#update_field6').val(data['src_update_field6'])
                        $('#update_field7').val(data['src_update_field7'])
                        $('#update_field8').val(data['src_update_field8'])
                        $('#update_field9').val(data['src_update_field9'])
                        $('#update_field70').val(data['src_update_field70'])
                        $('#update_field10').val(data['src_update_field10'])
                        $('#update_field11').val(data['src_update_field11'])
                        $('#update_field12').val(data['src_update_field12'])
                        $('#update_field13').val(data['src_update_field13'])
                        $('#update_field14').val(data['src_update_field14'])
                        $('#update_field15').val(data['src_update_field15'])
                        $('#update_field16').val(data['src_update_field16'])
                        $('#update_field17').val(data['src_update_field17'])
                        $('#update_field18').val(data['src_update_field18'])
                        $('#update_field19').val(data['src_update_field19'])
                        $('#update_field20').val(data['src_update_field20'])
                        $('#update_field21').val(data['src_update_field21'])
                        $('#update_field22').val(data['src_update_field22'])
                        $('#update_field24').val(data['src_update_field24'])
                        $('#update_field25').val(data['src_update_field25'])
                        $('#update_field26').val(data['src_update_field26'])
                        $('#update_field27').val(data['src_update_field27'])
                        $('#update_field28').val(data['src_update_field28'])
                        $('#update_field29').val(data['src_update_field29'])
                        $('#updateModal').modal('show')
                    })
                }
            })

        });
    </script>

</head>

<body>

    <div class="container-fluid">

        <!-- 标题 -->
        <div class="row">
            <div class="col-md-12">
                <h3 class="text-center">信号设备建筑限界统计表</h3>
            </div>
        </div>

        <br>

        <!-- 查询 -->
        <div class="row">
            <div class="col-md-12">
                <form class="form-inline" role="form">

                    <div class="form-group">
                        <div class="input-group">
                            <div class="input-group-addon">线别</div>
                            <select class="form-control" id="select_field1" name="select_field1">
                                {% if current_field1 %}
                                <option>{{current_field1}}</option>
                                {% endif %}
                                <option></option>
                                {% for i in field1 %}
                                <option>{{i}}</option>
                                {% endfor %}
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="input-group">
                            <div class="input-group-addon">综合车间</div>
                            <select class="form-control" id="select_field2" name="select_field2">
                                {% if current_field2 %}
                                <option>{{current_field2}}</option>
                                {% endif %}
                                <option></option>
                                {% for i in field2 %}
                                <option>{{i}}</option>
                                {% endfor %}
                                <option>所有</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="input-group">
                            <div class="input-group-addon">区间名称</div>
                            <select class="form-control" id="select_field3" name="select_field3">
                                {% if current_field3 %}
                                <option>{{current_field3}}</option>
                                {% endif %}
                                <option></option>
                                {% for i in field3 %}
                                <option>{{i}}</option>
                                {% endfor %}
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="input-group">
                            <div class="input-group-addon">站内区间</div>
                            <select class="form-control" id="select_field24" name="select_field24">
                                {% if current_field24 %}
                                <option>{{current_field24}}</option>
                                {% endif %}
                                <option></option>
                                {% for i in field24 %}
                                <option>{{i}}</option>
                                {% endfor %}
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="input-group">
                            <div class="input-group-addon">参考标准</div>
                            <select class="form-control" id="select_field25" name="select_field25">
                                {% if current_field25 %}
                                <option>{{current_field25}}</option>
                                {% endif %}
                                <option></option>
                                {% for i in field25 %}
                                <option>{{i}}</option>
                                {% endfor %}
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="input-group">
                            <div class="input-group-addon">防撞墙</div>
                            <select class="form-control" id="select_field26" name="select_field26">
                                {% if current_field26 %}
                                <option>{{current_field26}}</option>
                                {% endif %}
                                <option></option>
                                {% for i in field26 %}
                                <option>{{i}}</option>
                                {% endfor %}
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="input-group">
                            <div class="input-group-addon">设备类型</div>
                            <select class="form-control" id="select_field27" name="select_field27">
                                {% if current_field27 %}
                                <option>{{current_field27}}</option>
                                {% endif %}
                                <option></option>
                                {% for i in field27 %}
                                <option>{{i}}</option>
                                {% endfor %}
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="input-group">
                            <div class="input-group-addon">数据超限</div>
                            <select class="form-control" id="over_limit" name="over_limit">
                                {% if over_limit %}
                                <option>{{over_limit}}</option>
                                {% endif %}
                                <option></option>
                                <option>是</option>
                                <option>否</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group" style="width: 120px;">
                        <div class="input-group">
                            <div class="input-group-addon">本线</div>
                            <input class="form-control" id="select_field16" name="select_field16" type="text"
                                value="{{current_field16}}">
                        </div>
                    </div>

                    <div class="form-group" style="width: 120px;">
                        <div class="input-group">
                            <div class="input-group-addon">邻线</div>
                            <input class="form-control" id="select_field17" name="select_field17" type="text"
                                value="{{current_field17}}">
                        </div>
                    </div>

                    <div class="form-group" style="width: 260px;">
                        <div class="input-group">
                            <div class="input-group-addon">备注</div>
                            <input class="form-control" id="select_field18" name="select_field18" type="text"
                                value="{{current_field18}}" placeholder="搜空数据时输入无数据">
                        </div>
                    </div>

                    <div class="form-group" style="width: 200px;">
                        <div class="input-group">
                            <div class="input-group-addon">设备名称</div>
                            <input class="form-control" id="select_field4" name="select_field4" type="text"
                                value="{{current_field4}}">
                        </div>
                    </div>

                    <div class="form-group" style="width: 200px;">
                        <div class="input-group">
                            <div class="input-group-addon">核对日期</div>
                            <input class="form-control" id="select_field28" name="select_field28" type="text"
                                value="{{current_field28}}">
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="btn-group">
                            <button class="btn btn-info" id="clear_select" type="button">清空</button>
                            <button class="btn btn-primary" type="submit">查询</button>
                        </div>
                    </div>

                </form>
            </div>
        </div>

        <br>

        <!-- 增删改查按钮组 -->
        <div class="row">
            <div class="col-md-12">

                <div class="btn-group">
                    <button class="btn btn-success" type="button" id="refresh">
                        <span class="glyphicon glyphicon-search"></span> 查询所有数据
                    </button>
                    <button class="btn btn-primary" data-target="#addModal" data-toggle="modal" type="button">
                        <span class="glyphicon glyphicon-plus"></span> 添加
                    </button>
                    <button class="btn btn-default" id="updateModalBtn" type="button">
                        <span class="glyphicon glyphicon-pencil"></span> 修改
                    </button>
                    <button class="btn btn-danger" disabled="disabled" id="delete" type="button"
                        onclick="$.delete('Model')">
                        <span class="glyphicon glyphicon-minus"></span> 删除
                    </button>
                </div>

                <div class="btn-group">
                    <button class="btn btn-default" onclick="window.location='/Model/import.html/'" type="button">
                        <span class="glyphicon glyphicon-import"></span> 导入
                    </button>
                    <button class="btn btn-default" onclick="window.open('{{file}}')" type="button">
                        <span class="glyphicon glyphicon-export"></span> 导出
                    </button>
                </div>

                <div class="btn-group">
                    <button class="btn btn-info" onclick="window.open('/Model/select.html','_blank');" type="button">
                        <span class="glyphicon glyphicon-gift"></span> 详情
                    </button>
                    <button class="btn btn-primary" onclick="window.location='/index.html/?index=1'" type="button">
                        <span class="glyphicon glyphicon-home"></span> 首页
                    </button>
                </div>

            </div>
        </div>

        <!-- 表格 -->
        <div class="row">
            <div class="col-md-12">
                <div id="thead_div">
                    <table class="table table-bordered  table-hover table-condensed">
                        <thead>
                            <tr >
                                <th><input id="checkboxs" type="checkbox" value="all"></th>
                                <th>顺号</th>
                                <th>线别</th>
                                <th>综合车间</th>
                                <th>区间名称</th>
                                <th>设备名称</th>
                                <th>公里标</th>
                                <th>本线高度</th>
                                <th>距本线中心线距离</th>
                                <th>距邻线中心线距离</th>
                                <th>临线高度</th>
                                <th>线间距</th>
                                <th style="display: none;">曲线半径</th>
                                <th style="display: none;">外轨超高</th>
                                <th style="display: none;">本线曲线内侧</th>
                                <th style="display: none;">本线曲线外侧</th>
                                <th style="display: none;">邻线曲线内侧</th>
                                <th style="display: none;">邻线曲线外侧</th>
                                <th>本线（标准值）</th>
                                <th>邻线（标准值）</th>
                                <th>备注</th>
                                <th>本线差</th>
                                <th>邻线差</th>
                                <th>本线超限</th>
                                <th>邻线超限</th>
                                <th>站内区间</th>
                                <th>参考标准</th>
                                <th>防撞墙</th>
                                <th>设备类型</th>
                                <th>核对日期</th>
                                <th>核对人</th>
                            </tr>
                        </thead>
                    </table>
                </div>
                <div id="tbody_div" class="tbody_div">
                    <table class="table table-bordered  table-hover table-condensed">
                        <tbody id="tbody">
                            {% for i in data %}
                            <tr>
                                <td><input type="checkbox" value="{{i.0}}"></td>
                                <td>{{forloop.counter}}</td>
                                {% for j in i %}
                                {% if forloop.first %}
                                {% else %}
                                <td>{{j}}</td>
                                {% endif %}
                                {% endfor %}
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- 分页 -->
        <div class="row">
            <div class="col-md-5">
                <div class=" pagination">

                    <div class="btn-group">
                        <button class="btn btn-default" type="button">共<b>{{count}}</b>条记录
                        </button>
                    </div>

                    <div class="btn-group">
                        <button class="btn btn-default" type="button">显示</button>
                        <div class="btn-group">
                            <button class="btn btn-default dropdown-toggle" data-toggle="dropdown" id="pagesize"
                                type="button">
                                {{pagesize}}
                            </button>
                            <ul class="dropdown-menu" id="pagesizechoose" role="menu">
                                <li><a href="javascript:$.func.pagesizeHref(100)">100</a></li>
                                <li><a href="javascript:$.func.pagesizeHref(50)">50</a></li>
                                <li><a href="javascript:$.func.pagesizeHref(20)">20</a></li>
                                <!-- <li><a href="javascript:$.func.pagesizeHref(3)">3</a></li> -->
                                <!-- <li><a href="javascript:$.func.pagesizeHref(2)">2</a></li> -->
                                <!-- <li><a href="javascript:$.func.pagesizeHref(1)">1</a></li> -->
                            </ul>
                        </div>
                        <button class="btn btn-default" type="button">条/页</button>
                    </div>

                    <div class="btn-group">
                        <button class="btn btn-default" type="button">当前</button>
                        <button class="btn btn-default" type="button">{{current_page}}</button>
                        <button class="btn btn-default" type="button">页</button>
                    </div>

                </div>
            </div>

            <div class="col-md-7">
                <nav>
                    <ul class="pagination">
                        <li>
                            <a href="javascript:$.func.currentPageHref(1)">首页</a>
                        </li>

                        <li>
                            <a href="javascript:$.func.currentPageHref({{previous_page}})">上一页</a>
                        </li>

                        <li {% if current_page == "1" %}class="active" {% endif %}>
                            <a href="javascript:$.func.currentPageHref(1)">1</a>
                        </li>

                        <li {% if current_page == "2" %}class="active" {% endif %}>
                            <a href="javascript:$.func.currentPageHref(2)">2</a>
                        </li>

                        <li {% if current_page == "3" %}class="active" {% endif %}>
                            <a href="javascript:$.func.currentPageHref(3)">3</a>
                        </li>

                        <li {% if current_page == "4" %}class="active" {% endif %}>
                            <a href="javascript:$.func.currentPageHref(4)">4</a>
                        </li>

                        <li {% if current_page == "5" %}class="active" {% endif %}>
                            <a href="javascript:$.func.currentPageHref(5)">5</a>
                        </li>

                        <li {% if current_page == "6" %}class="active" {% endif %}>
                            <a href="javascript:$.func.currentPageHref(6)">6</a>
                        </li>

                        <li {% if current_page == "7" %}class="active" {% endif %}>
                            <a href="javascript:$.func.currentPageHref(7)">7</a>
                        </li>

                        <li {% if current_page == "8" %}class="active" {% endif %}>
                            <a href="javascript:$.func.currentPageHref(8)">8</a>
                        </li>

                        <li {% if current_page == "9" %}class="active" {% endif %}>
                            <a href="javascript:$.func.currentPageHref(9)">9</a>
                        </li>

                        <li>
                            <a href="javascript:$.func.currentPageHref({{next_page}})">下一页
                            </a>
                        </li>
                        <li>
                            <a href="javascript:$.func.currentPageHref({{last_page}})">末页
                            </a>
                        </li>
                    </ul>
                </nav>
            </div>

        </div>
    </div>

    <!-- 创建模态窗口 -->
    <div class="modal fade" id="addModal" role="dialog">
        <div class="modal-dialog" role="document" style="width: 90%;">
            <div class="modal-content">
                <div class="modal-header">
                    <button class="close" data-dismiss="modal" type="button">
                        <span aria-hidden="true">×</span>
                    </button>
                    <h4 class="modal-title" id="myModalLabel">添加信息</h4>
                </div>
                <div class="modal-body">
                    <form action="/Model/add/" class="form-horizontal" id="addForm" method="POST"
                        onsubmit="return $.func.check_add_form()" role="form">

                        <div class="form-group">
                            <label class="col-sm-2 control-label">线别
                                <span style="color: red;">(必填项)</span>
                            </label>
                            <div class="col-sm-3" style="width: 300px;">
                                <select class="form-control" id="add_field1" name="add_field1">
                                    <option></option>
                                    {% for i in field1 %}
                                    <option>{{i}}</option>
                                    {% endfor %}
                                </select>
                            </div>

                            <label class="col-sm-2 control-label">邻线曲线外侧
                            </label>
                            <div class="col-sm-10" style="width: 300px;">
                                <input class="form-control" id="add_field15" name="add_field15" type="text" />
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-sm-2 control-label">综合车间
                                <span style="color: red;">(必填项)</span>
                            </label>
                            <div class="col-sm-10" style="width: 300px;">
                                <select class="form-control" id="add_field2" name="add_field2">
                                    <option></option>
                                    {% for i in field2 %}
                                    <option>{{i}}</option>
                                    {% endfor %}
                                </select>
                            </div>

                            <label class="col-sm-2 control-label">本线标准值
                            </label>
                            <div class="col-sm-10" style="width: 300px;">
                                <input class="form-control" id="add_field16" name="add_field16" type="text" readonly />
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-sm-2 control-label">车站及区间名称
                                <span style="color: red;">(必填项)</span>
                            </label>
                            <div class="col-sm-10" style="width: 300px;">
                                <select class="form-control" id="add_field3" name="add_field3">
                                    <option></option>
                                    {% for i in field3 %}
                                    <option>{{i}}</option>
                                    {% endfor %}
                                </select>
                            </div>

                            <label class="col-sm-2 control-label">邻线标准值
                            </label>
                            <div class="col-sm-10" style="width: 300px;">
                                <input class="form-control" id="add_field17" name="add_field17" type="text" readonly />
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-sm-2 control-label">设备名称
                                <span style="color: red;">(必填项)</span>
                            </label>
                            <div class="col-sm-10" style="width: 300px;">
                                <input class="form-control" id="add_field4" name="add_field4" type="text" />
                            </div>

                            <label class="col-sm-2 control-label">备注
                            </label>
                            <div class="col-sm-10" style="width: 300px;">
                                <input class="form-control" id="add_field18" name="add_field18" type="text" />
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-sm-2 control-label">公里标
                            </label>
                            <div class="col-sm-10" style="width: 300px;">
                                <input class="form-control" id="add_field5" name="add_field5" type="text" />
                            </div>

                            <label class="col-sm-2 control-label">本线实测值与标准值只差
                            </label>
                            <div class="col-sm-10" style="width: 300px;">
                                <input class="form-control" id="add_field19" name="add_field19" type="text" readonly />
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-sm-2 control-label">本线高度
                            </label>
                            <div class="col-sm-10" style="width: 300px;">
                                <input class="form-control" id="add_field6" name="add_field6" type="text" />
                            </div>

                            <label class="col-sm-2 control-label">邻线实测值与标准值只差
                            </label>
                            <div class="col-sm-10" style="width: 300px;">
                                <input class="form-control" id="add_field20" name="add_field20" type="text" readonly />
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-sm-2 control-label">距本线中心线距离
                            </label>
                            <div class="col-sm-10" style="width: 300px;">
                                <input class="form-control" id="add_field7" name="add_field7" type="text" />
                            </div>

                            <label class="col-sm-2 control-label">本线数据是否超限
                            </label>
                            <div class="col-sm-10" style="width: 300px;">
                                <input class="form-control" id="add_field21" name="add_field21" type="text" readonly />
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-sm-2 control-label">距邻线中心线距离
                            </label>
                            <div class="col-sm-10" style="width: 300px;">
                                <input class="form-control" id="add_field8" name="add_field8" type="text" />
                            </div>

                            <label class="col-sm-2 control-label">邻线数据是否超限
                            </label>
                            <div class="col-sm-10" style="width: 300px;">
                                <input class="form-control" id="add_field22" name="add_field22" type="text" readonly />
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-sm-2 control-label">临线高度
                            </label>
                            <div class="col-sm-10" style="width: 300px;">
                                <input class="form-control" id="add_field9" name="add_field9" type="text" />
                            </div>

                            <label class="col-sm-2 control-label">行别（已删除）
                            </label>
                            <div class="col-sm-10" style="width: 300px;">
                                <input disabled class="form-control" id="add_field23" name="add_field23" type="text" />
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-sm-2 control-label">线间距
                            </label>
                            <div class="col-sm-10" style="width: 300px;">
                                <input class="form-control" id="add_field70" name="add_field70" type="text" />
                            </div>

                            <label class="col-sm-2 control-label">站内或区间
                                <span style="color: red;">(必填项)</span>
                            </label>
                            <div class="col-sm-10" style="width: 300px;">
                                <select class="form-control" id="add_field24" name="add_field24">
                                    <option></option>
                                    {% for i in field24 %}
                                    <option>{{i}}</option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-sm-2 control-label">曲线半径
                            </label>
                            <div class="col-sm-10" style="width: 300px;">
                                <input class="form-control" id="add_field10" name="add_field10" type="text" />
                            </div>

                            <label class="col-sm-2 control-label">参考标准
                                <span style="color: red;">(必填项)</span>
                            </label>
                            <div class="col-sm-10" style="width: 300px;">
                                <select class="form-control" id="add_field25" name="add_field25">
                                    <option></option>
                                    {% for i in field25 %}
                                    <option>{{i}}</option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-sm-2 control-label">曲线外轨超高
                            </label>
                            <div class="col-sm-10" style="width: 300px;">
                                <input class="form-control" id="add_field11" name="add_field11" type="text" />
                            </div>

                            <label class="col-sm-2 control-label">有无防撞强
                            </label>
                            <div class="col-sm-10" style="width: 300px;">
                                <select class="form-control" id="add_field26" name="add_field26">
                                    <option></option>
                                    {% for i in field26 %}
                                    <option>{{i}}</option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-sm-2 control-label">本线曲线内侧
                            </label>
                            <div class="col-sm-10" style="width: 300px;">
                                <input class="form-control" id="add_field12" name="add_field12" type="text" />
                            </div>

                            <label class="col-sm-2 control-label">建筑设备类型
                            </label>
                            <div class="col-sm-10" style="width: 300px;">
                                <select class="form-control" id="add_field27" name="add_field27">
                                    <option></option>
                                    {% for i in field27 %}
                                    <option>{{i}}</option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-sm-2 control-label">本线曲线外侧
                            </label>
                            <div class="col-sm-10" style="width: 300px;">
                                <input class="form-control" id="add_field13" name="add_field13" type="text" />
                            </div>

                            <label class="col-sm-2 control-label">核对日期
                            </label>
                            <div class="col-sm-10" style="width: 300px;">
                                <input class="form-control" id="add_field28" name="add_field28" type="date" />
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-sm-2 control-label">邻线曲线内侧
                            </label>
                            <div class="col-sm-10" style="width: 300px;">
                                <input class="form-control" id="add_field14" name="add_field14" type="text" />
                            </div>

                            <label class="col-sm-2 control-label">核对人
                            </label>
                            <div class="col-sm-10" style="width: 300px;">
                                <input class="form-control" id="add_field29" name="add_field29" type="text" />
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-danger" data-dismiss="modal" type="button">关闭</button>
                    <button class="btn btn-primary" id="add_calculate" type="button">计算</button>
                    <button class="btn btn-success" form="addForm" type="submit">添加</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 修改模态窗口 -->
    <div class="modal fade" id="updateModal" role="dialog">
        <div class="modal-dialog" role="document" style="width: 90%;">
            <div class="modal-content">
                <div class="modal-header">
                    <button class="close" data-dismiss="modal" type="button">
                        <span aria-hidden="true">×</span>
                    </button>
                    <h4 class="modal-title" id="myModalLabel">修改信息</h4>
                </div>
                <div class="modal-body">
                    <form action="/Model/update/" class="form-horizontal" id="updateForm" method="POST"
                        onsubmit="return $.func.check_update_form()" role="form">
                        <div class="form-group hidden">
                            <label class="col-sm-2 control-label" for="create-company">顺号</label>
                            <div class="col-sm-10" style="width: 300px;">
                                <input class="form-control" id="update_id" name="update_id" type="text" />
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-2 control-label">线别
                                <span style="color: red;">(必填项)</span>
                            </label>
                            <div class="col-sm-10" style="width: 300px;">
                                <select class="form-control" id="update_field1" name="update_field1">
                                    <option></option>
                                    {% for i in field1 %}
                                    <option>{{i}}</option>
                                    {% endfor %}
                                </select>
                            </div>

                            <label class="col-sm-2 control-label">邻线曲线外侧
                            </label>
                            <div class="col-sm-10" style="width: 300px;">
                                <input class="form-control" id="update_field15" name="update_field15" type="text" />
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-sm-2 control-label">综合车间
                                <span style="color: red;">(必填项)</span>
                            </label>
                            <div class="col-sm-10" style="width: 300px;">
                                <select class="form-control" id="update_field2" name="update_field2">
                                    <option></option>
                                    {% for i in field2 %}
                                    <option>{{i}}</option>
                                    {% endfor %}
                                </select>
                            </div>

                            <label class="col-sm-2 control-label">本线标准值
                            </label>
                            <div class="col-sm-10" style="width: 300px;">
                                <input class="form-control" id="update_field16" name="update_field16" type="text"
                                    readonly />
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-sm-2 control-label">车站及区间名称
                                <span style="color: red;">(必填项)</span>
                            </label>
                            <div class="col-sm-10" style="width: 300px;">
                                <select class="form-control" id="update_field3" name="update_field3">
                                    <option></option>
                                    {% for i in field3 %}
                                    <option>{{i}}</option>
                                    {% endfor %}
                                </select>
                            </div>

                            <label class="col-sm-2 control-label">邻线标准值
                            </label>
                            <div class="col-sm-10" style="width: 300px;">
                                <input class="form-control" id="update_field17" name="update_field17" type="text"
                                    readonly />
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-sm-2 control-label">设备名称
                                <span style="color: red;">(必填项)</span>
                            </label>
                            <div class="col-sm-10" style="width: 300px;">
                                <input class="form-control" id="update_field4" name="update_field4" type="text" />
                            </div>

                            <label class="col-sm-2 control-label">备注
                            </label>
                            <div class="col-sm-10" style="width: 300px;">
                                <input class="form-control" id="update_field18" name="update_field18" type="text" />
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-sm-2 control-label">公里标
                            </label>
                            <div class="col-sm-10" style="width: 300px;">
                                <input class="form-control" id="update_field5" name="update_field5" type="text" />
                            </div>

                            <label class="col-sm-2 control-label">本线实测值与标准值只差
                            </label>
                            <div class="col-sm-10" style="width: 300px;">
                                <input class="form-control" id="update_field19" name="update_field19" type="text"
                                    readonly />
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-sm-2 control-label">本线高度
                            </label>
                            <div class="col-sm-10" style="width: 300px;">
                                <input class="form-control" id="update_field6" name="update_field6" type="text" />
                            </div>

                            <label class="col-sm-2 control-label">邻线实测值与标准值只差
                            </label>
                            <div class="col-sm-10" style="width: 300px;">
                                <input class="form-control" id="update_field20" name="update_field20" type="text"
                                    readonly />
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-sm-2 control-label">距本线中心线距离
                            </label>
                            <div class="col-sm-10" style="width: 300px;">
                                <input class="form-control" id="update_field7" name="update_field7" type="text" />
                            </div>

                            <label class="col-sm-2 control-label">本线数据是否超限
                            </label>
                            <div class="col-sm-10" style="width: 300px;">
                                <input class="form-control" id="update_field21" name="update_field21" type="text"
                                    readonly />
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-sm-2 control-label">距邻线中心线距离
                            </label>
                            <div class="col-sm-10" style="width: 300px;">
                                <input class="form-control" id="update_field8" name="update_field8" type="text" />
                            </div>

                            <label class="col-sm-2 control-label">邻线数据是否超限
                            </label>
                            <div class="col-sm-10" style="width: 300px;">
                                <input class="form-control" id="update_field22" name="update_field22" type="text"
                                    readonly />
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-sm-2 control-label">临线高度
                            </label>
                            <div class="col-sm-10" style="width: 300px;">
                                <input class="form-control" id="update_field9" name="update_field9" type="text" />
                            </div>

                            <label class="col-sm-2 control-label">行别（已删除）
                            </label>
                            <div class="col-sm-10" style="width: 300px;">
                                <input disabled class="form-control" id="update_field23" name="update_field23"
                                    type="text" />
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-sm-2 control-label">线间距
                            </label>
                            <div class="col-sm-10" style="width: 300px;">
                                <input class="form-control" id="update_field70" name="update_field70" type="text" />
                            </div>

                            <label class="col-sm-2 control-label">站内或区间
                                <span style="color: red;">(必填项)</span>
                            </label>
                            <div class="col-sm-10" style="width: 300px;">
                                <select class="form-control" id="update_field24" name="update_field24">
                                    <option></option>
                                    {% for i in field24 %}
                                    <option>{{i}}</option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-sm-2 control-label">曲线半径
                            </label>
                            <div class="col-sm-10" style="width: 300px;">
                                <input class="form-control" id="update_field10" name="update_field10" type="text" />
                            </div>

                            <label class="col-sm-2 control-label">参考标准
                                <span style="color: red;">(必填项)</span>
                            </label>
                            <div class="col-sm-10" style="width: 300px;">
                                <select class="form-control" id="update_field25" name="update_field25">
                                    <option></option>
                                    {% for i in field25 %}
                                    <option>{{i}}</option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-sm-2 control-label">曲线外轨超高
                            </label>
                            <div class="col-sm-10" style="width: 300px;">
                                <input class="form-control" id="update_field11" name="update_field11" type="text" />
                            </div>

                            <label class="col-sm-2 control-label">有无防撞强
                            </label>
                            <div class="col-sm-10" style="width: 300px;">
                                <select class="form-control" id="update_field26" name="update_field26">
                                    <option></option>
                                    {% for i in field26 %}
                                    <option>{{i}}</option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-sm-2 control-label">本线曲线内侧
                            </label>
                            <div class="col-sm-10" style="width: 300px;">
                                <input class="form-control" id="update_field12" name="update_field12" type="text" />
                            </div>

                            <label class="col-sm-2 control-label">建筑设备类型
                            </label>
                            <div class="col-sm-10" style="width: 300px;">
                                <select class="form-control" id="update_field27" name="update_field27">
                                    <option></option>
                                    {% for i in field27 %}
                                    <option>{{i}}</option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-sm-2 control-label">本线曲线外侧
                            </label>
                            <div class="col-sm-10" style="width: 300px;">
                                <input class="form-control" id="update_field13" name="update_field13" type="text" />
                            </div>

                            <label class="col-sm-2 control-label">核对日期
                            </label>
                            <div class="col-sm-10" style="width: 300px;">
                                <input class="form-control" id="update_field28" name="update_field28" type="date" />
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-sm-2 control-label">邻线曲线内侧
                            </label>
                            <div class="col-sm-10" style="width: 300px;">
                                <input class="form-control" id="update_field14" name="update_field14" type="text" />
                            </div>

                            <label class="col-sm-2 control-label">核对人
                            </label>
                            <div class="col-sm-10" style="width: 300px;">
                                <input class="form-control" id="update_field29" name="update_field29" type="text" />
                            </div>
                        </div>
                    </form>

                </div>
                <div class="modal-footer">
                    <button class="btn btn-danger" data-dismiss="modal" type="button">关闭
                    </button>
                    <button class="btn btn-primary" id="update_calculate" type="button">计算
                    </button>
                    <button class="btn btn-success" form="updateForm" type="submit">修改
                    </button>
                </div>
            </div>
        </div>
    </div>

</body>

</html>